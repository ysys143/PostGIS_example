# PostGIS 샘플 프로젝트 요구사항 정의서

## 프로젝트 개요
PostGIS의 기본 기능을 테스트하고 학습하기 위한 최소 기능 샘플 프로젝트

## 프로젝트 목적
- PostGIS의 공간 데이터 저장 및 쿼리 기능 테스트
- 공간 데이터의 웹 지도 시각화 구현
- Docker 환경에서의 PostGIS 설정 및 운영 경험

## 주요 기능 요구사항

### 1. 데이터베이스
- PostgreSQL + PostGIS 확장 설치 및 구성
- 샘플 공간 데이터 저장 (예: 지점, 경로, 영역)
- 공간 쿼리 기능:
  - **좌표 기반 검색**: 특정 좌표로 주변 객체 검색
  - **거리 기반 검색**: 반경 내 객체 검색 (예: 특정 지점으로부터 1km 내 모든 지점)
  - **내포 여부 판단**: 점이 다각형 내부에 있는지 확인
  - **경계 계산**: 다각형의 경계선, 면적, 중심점 계산
  - **교차 검색**: 선분이나 영역 간의 교차점 찾기
- **공간 인덱싱**: 
  - GIST 인덱스를 활용한 쿼리 성능 최적화
  - 공간 데이터 검색 속도 향상

### 2. 시각화
- 웹 기반 지도 인터페이스
- 저장된 공간 데이터를 지도 위에 표시
- 기본적인 상호작용 (클릭, 확대/축소)
- 검색 결과 시각화 (검색된 객체 하이라이트)

### 3. 데이터 소스
- **USGS 실시간 지진 데이터 API** (권장)
  - API 키 불필요, 무료 사용
  - 실시간 업데이트 (매분)
  - GeoJSON 형식 제공
  - 엔드포인트 예시:
    - 지난 24시간: `https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_day.geojson`
    - 지난 7일 (M2.5+): `https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojson`

### 4. 테스트 시나리오
- **거리 기반 검색**: "특정 도시에서 500km 내 발생한 지진"
- **지역 내 검색**: "특정 국가/지역 경계 내 지진"
- **시간 필터링**: "최근 24시간 내 규모 4.0 이상 지진"
- **깊이 분석**: "진원 깊이별 지진 분류 및 통계"
- **핫스팟 분석**: "지진 밀집 지역 식별"

### 5. 인프라
- Docker Compose로 전체 환경 구성
- 한 번의 명령으로 전체 시스템 실행 가능

## 기술 스택
- 데이터베이스: PostgreSQL + PostGIS
- 컨테이너: Docker, Docker Compose
- 백엔드: Python (FastAPI 또는 Flask)
- 프론트엔드: HTML/JavaScript + 지도 라이브러리 (Leaflet 또는 Mapbox)

## 제약사항
- 최소한의 기능만 구현
- 복잡한 인증 시스템 불필요
- 샘플 데이터는 하드코딩 가능
- 프로덕션 레벨의 보안 및 성능 최적화 불필요

## 성공 기준
- Docker로 PostGIS가 정상 실행됨
- USGS API에서 지진 데이터를 자동으로 가져와 저장
- 웹 브라우저에서 지도 위에 지진 데이터가 표시됨
- 모든 공간 쿼리 기능이 정상 동작함
- GIST 인덱싱으로 쿼리 성능이 개선됨 